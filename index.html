<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal do Cadete [v30.0 - Final]</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="auth-container">
        <div id="login-panel" class="auth-panel">
            <h2 class="panel-title">Portal do Cadete</h2>
            <form id="login-form"><label for="login-numerica">Sua Num√©rica:</label><input type="number" id="login-numerica" placeholder="Digite sua num√©rica..." required><label for="login-password">Sua Senha:</label><input type="password" id="login-password" placeholder="Digite sua senha..." required><button type="submit">Entrar</button><p id="login-error" class="error-message"></p></form>
            <p class="auth-switcher">N√£o tem uma conta? <button id="switch-to-signup">Crie uma</button></p>
        </div>
        <div id="signup-panel" class="auth-panel hidden">
            <h2 class="panel-title">Criar Conta</h2>
            <form id="signup-form"><label for="signup-guerra">Nome de Guerra:</label><input type="text" id="signup-guerra" required><label for="signup-numerica">Num√©rica:</label><input type="number" id="signup-numerica" required><label for="signup-password">Crie uma Senha (m√≠n. 6 caracteres):</label><input type="password" id="signup-password" required><button type="submit">Criar Conta</button><p id="signup-error" class="error-message"></p></form>
            <p class="auth-switcher">J√° tem uma conta? <button id="switch-to-login">Fa√ßa Login</button></p>
        </div>
    </div>
    
    <div id="game-container" class="hidden">
        <div id="left-column">
            <div id="profile-panel" class="panel">
                <div id="profile-pic-container">
                    <img id="profile-pic" src="https://i.imgur.com/K3wY2mn.png" alt="Foto do Perfil">
                    <input type="file" id="upload-pic-input" accept="image/*" class="hidden">
                    <button id="upload-pic-button" title="Trocar Foto de Perfil">üì∑</button>
                </div>
                <div id="player-info">
                    <div id="player-name">Aluno Oficial</div>
                    <div id="level">N√çVEL 1</div>
                    <div><strong>T√≠tulo:</strong> <span id="player-title"></span></div>
                </div>
                <div class="progress-bar-container"><div id="exp-bar"></div></div>
                <div id="exp-text">EXP: 0 / 100</div>
                <div class="profile-actions">
                    <button id="logout-button">Sair</button>
                </div>
            </div>
            <div id="countdown-panel" class="panel">
                <h2 class="panel-title">Fim do Curso</h2>
                <div id="countdown-display">Calculando...</div>
            </div>
        </div>

        <div id="main-column">
            <div id="tabs-panel" class="panel">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="tab-main">Principal</button>
                    <button class="tab-button" data-tab="tab-tasks">Tarefas</button>
                    <button class="tab-button" data-tab="tab-events">Eventos</button>
                    <button class="tab-button" data-tab="tab-qts">QTS</button>
                    <button class="tab-button" data-tab="tab-grades">Notas</button>
                    <button class="tab-button" data-tab="tab-achievements">Conquistas</button>
                </div>
                <div class="tab-content">
                    <div id="tab-main" class="tab active">
                        <h4>Miss√µes Di√°rias</h4>
                        <ul id="daily-quests-list"></ul>
                        <h4>Pr√≥ximos Eventos</h4>
                        <ul id="upcoming-events-list"></ul>
                    </div>
                    <div id="tab-tasks" class="tab">
                        <h4>Minhas Tarefas</h4>
                        <div id="tasks-list"></div>
                        <div class="task-creator">
                            <input type="text" id="task-name-input" placeholder="Nome da nova tarefa...">
                            <select id="task-difficulty-select">
                                <option value="easy">F√°cil (+10 EXP)</option>
                                <option value="medium">M√©dia (+25 EXP)</option>
                                <option value="hard">Dif√≠cil (+50 EXP)</option>
                            </select>
                            <button id="add-task-button">Adicionar Tarefa</button>
                        </div>
                    </div>
                    <div id="tab-events" class="tab">
                        <h3>Calend√°rio de Eventos</h3>
                        <div id="calendar"></div>
                        <div class="event-creator">
                            <input type="text" id="event-name-input" placeholder="Nome do Evento (Ex: Prova de Tiro)">
                            <input type="date" id="event-date-input">
                            <button id="add-event-button">Agendar Evento</button>
                        </div>
                    </div>
                    <div id="tab-qts" class="tab">
                        <h3>Quadro de Trabalho Semanal</h3>
                        <div id="qts-schedule-container"></div>
                    </div>
                    <div id="tab-grades" class="tab">
                        <div class="grades-header">
                            <h3>Controle de Notas</h3>
                            <div id="grades-average">M√©dia Geral: N/A</div>
                        </div>
                        <div id="grades-container"></div>
                    </div>
                    <div id="tab-achievements" class="tab">
                        <h3>Quadro de Conquistas</h3>
                        <div id="achievements-grid"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="notification-toast" class="hidden"></div>
    
    <script src="script.js"></script>
</body>
</html>
