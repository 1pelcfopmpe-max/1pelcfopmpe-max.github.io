<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solo Leveling: Academia PMPE [v20.0 - Online]</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="auth-container">
        <div class="auth-panel">
            <img src="https://i.imgur.com/K3wY2mn.png" alt="Emblema CFO" class="auth-logo">
            <div class="auth-tabs">
                <button id="show-login-btn" class="auth-tab-btn active">Login</button>
                <button id="show-signup-btn" class="auth-tab-btn">Criar Conta</button>
            </div>

            <form id="login-form">
                <label for="login-numerica">Sua Num√©rica:</label>
                <input type="number" id="login-numerica" required>
                <label for="login-password">Sua Senha:</label>
                <input type="password" id="login-password" required>
                <button type="submit">Entrar</button>
                <p id="login-error" class="error-message"></p>
            </form>

            <form id="signup-form" class="hidden">
                <label for="signup-guerra">Nome de Guerra:</label>
                <input type="text" id="signup-guerra" required>
                <label for="signup-numerica">Num√©rica:</label>
                <input type="number" id="signup-numerica" required>
                <label for="signup-pelotao">Pelot√£o (somente o n√∫mero):</label>
                <input type="text" id="signup-pelotao" required>
                <label for="signup-password">Crie uma Senha:</label>
                <input type="password" id="signup-password" required>
                <button type="submit">Criar Conta</button>
                <p id="signup-error" class="error-message"></p>
            </form>
        </div>
    </div>

    <div id="stats-detail-modal" class="modal hidden">
        <div id="stats-detail-content" class="panel"><h2 class="panel-title">Relat√≥rio Detalhado de Habilidades</h2><div id="stats-detail-grid"></div><button id="stats-detail-close-button">Fechar</button></div>
    </div>
    <div id="event-detail-modal" class="modal hidden">
        <div id="event-detail-content" class="panel"><h2 id="event-detail-title" class="panel-title"></h2><p id="event-detail-body"></p><button id="event-detail-close-button">Fechar</button></div>
    </div>
    
    <div id="game-container" class="hidden">
        <div id="left-column">
            <div id="profile-panel" class="panel"><div id="profile-pic-container"><img id="profile-pic" src="https://i.imgur.com/K3wY2mn.png" alt="Foto do Perfil"><input type="file" id="upload-pic-input" accept="image/*" class="hidden"><button id="upload-pic-button" title="Trocar Foto de Perfil">üì∑</button></div><div id="player-info"><div id="player-name">Aluno Oficial</div><div id="level">N√çVEL 1</div><div><strong>T√≠tulo:</strong> <span id="player-title"></span></div></div><div class="progress-bar-container"><div id="exp-bar"></div></div><div id="exp-text">EXP: 0 / 100</div><button id="logout-button">Sair</button></div>
            <div id="stats-panel" class="panel"><h2 class="panel-title">HABILIDADES</h2><canvas id="stats-chart"></canvas><p class="chart-helper-text">Clique no gr√°fico para ver detalhes</p></div>
        </div>

        <div id="main-column">
            <div id="time-and-action-panel" class="panel"><div class="main-progress-display"><div id="course-percentage-large">0.0%</div><div id="course-day-display">Dia 0 de 365<br><span id="course-days-remaining"></span></div></div><div class="action-and-goal-section"><div class="goal-display"><div id="countdown-display-container"></div><div id="goal-list"></div><div class="goal-setter"><input type="text" id="goal-name-input" placeholder="Nome do Objetivo"><input type="date" id="goal-date-input"><button id="add-goal-button">+</button></div></div><div class="action-controls"><div class="daily-task"><label id="daily-quest-label"><input type="checkbox" id="daily-quest-checkbox"> Miss√£o Di√°ria Principal</label></div><button id="pass-day-button">AVAN√áAR DIA</button></div></div></div>
            <div id="tabs-panel" class="panel">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="tab-main">Principal</button>
                    <button class="tab-button" data-tab="tab-ranking">Ranking</button>
                    <button class="tab-button" data-tab="tab-calendario">Calend√°rio</button>
                    <button class="tab-button" data-tab="tab-qts">QTS</button>
                    <button class="tab-button" data-tab="tab-notas">Notas</button>
                    <button class="tab-button" data-tab="tab-links">Links/SEI</button>
                    <button class="tab-button" data-tab="tab-lembretes">Lembretes</button>
                    <button class="tab-button" data-tab="tab-conquistas">Conquistas</button>
                    <button class="tab-button" data-tab="tab-escalas">Escalas</button>
                </div>
                <div class="tab-content">
                    <div id="tab-main" class="tab active"><div id="quick-quests-container"></div><div id="mission-forecast-container"></div></div>
                    <div id="tab-ranking" class="tab"><h3>Ranking de Combatentes (Top 50)</h3><p class="helper-text">O ranking √© atualizado a cada 5 minutos.</p><div id="ranking-list">Carregando ranking...</div></div>
                    <div id="tab-calendario" class="tab"><div id="calendar"></div></div>
                    <div id="tab-qts" class="tab"><h3>Quadro de Trabalho Semanal (Edit√°vel)</h3><p class="helper-text">Clique em uma c√©lula para digitar a sigla da mat√©ria. As altera√ß√µes s√£o salvas automaticamente.</p><div id="qts-schedule-container"></div></div>
                    <div id="tab-notas" class="tab"><div class="grades-header"><h3>Controle de Notas</h3><div id="grades-average">M√©dia Geral: N/A</div></div><div id="grades-container"></div></div>
                    <div id="tab-links" class="tab"><h3>Links e Processos Importantes</h3><form id="add-link-form"><input type="text" id="link-title-input" placeholder="T√≠tulo (Ex: Di√°rio Oficial)" required><input type="text" id="link-value-input" placeholder="Link ou N¬∫ SEI" required><select id="link-type-input"><option value="link">Link</option><option value="sei">Processo SEI</option></select><button type="submit">Adicionar</button></form><div id="links-list"></div></div>
                    <div id="tab-lembretes" class="tab"><h3>Lembretes da Semana</h3><div id="reminders-list"></div><div class="reminder-input-group"><input type="text" id="reminder-input" placeholder="Novo lembrete..."><button id="add-reminder-button">+</button></div></div>
                    <div id="tab-conquistas" class="tab"><h3>Quadro de Conquistas</h3><div id="achievements-grid"></div></div>
                    <div id="tab-escalas" class="tab"><h3>Adicionar Servi√ßo/Plant√£o</h3><form id="add-mission-form"><input type="text" id="mission-name-input" placeholder="Ex: Plant√£o, Auxiliar, Escala de Pia..." required><input type="date" id="mission-date-input" required><button type="submit">Agendar Miss√£o Dif√≠cil</button></form><h4>Servi√ßos Agendados:</h4><ul id="scheduled-missions-list"></ul></div>
                </div>
            </div>
        </div>

        <div id="right-column">
            <div id="log-panel" class="panel"><h2 class="panel-title">REGISTRO DE ATIVIDADES</h2><div id="log-content"></div></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
